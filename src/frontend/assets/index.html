<html>
<meta>

<meta charset="utf-8" />
<title>Invitation Mode</title>
<base href="/" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
</meta>


    <body>
        <div class="container-fluid position-absolute top-50 start-0 translate-middle-y">
            <div class="row mb-3">
                <h1 class=""><center>Best, most awesome factorial calculator!</center></h1>
            </div>
            <div class="row mx-auto mb-3" style="width:500px">
                <input class="form-control" id="input" type="text">
            </div>
            <div class="row mx-auto mb-3" style="width:100px">
                <button type="button" id="run" class="btn btn-outline-success" title="Copy Screen Presenter link">
                    <i class="">Calculate!</i>
                </button>
            </div>
            <div class="row mb-3">
                <center ><h3 id="output"></h3></center>
            </div>
            <div class="row mb-3">
                <center ><img id="id1" alt="awesome"></center>
            </div>
        </div>
        <script type="text/javascript" >
        async function calculate(){
            let output = document.getElementById("output")
            let data = document.getElementById("input").value
            const response = await fetch(`/factorial?number=${data}`)
            const json = await response.json()
            document.getElementById("output").innerHTML = `The factorial value is : ${json.data.number}`
        }

        document.getElementById('run').addEventListener("click", function () {
            calculate()
        })

        async function getNewAd(){
            const response = await fetch(`/newAd`)
            document.getElementById("id1").src = await response.json()
        }

        getNewAd();
        setInterval(function(){
            getNewAd()
        },30000)

        </script>
    </body>

</html>
